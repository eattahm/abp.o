<!DOCTYPE html>
<html 
lang="zh_CN"
data-siteurl="https://adblockplus.org"
dir="ltr"
class="no-js">

  <head>
    <meta charset="utf-8">
<meta name="viewport" content="width=device-width, initial-scale=1">

<title>撰写 Adblock Plus 过滤规则</title>

<link rel="canonical" href="https://adblockplus.org/filters">



    
<meta property="og:image" content="/img/adblockplus_promo.png">
<meta property="og:title" content="撰写 Adblock Plus 过滤规则">

<meta property="og:locale" content="zh_CN">

  
    <meta property="og:locale:alternate" content="de_DE">
  

  
    <meta property="og:locale:alternate" content="en_US">
  

  
    <meta property="og:locale:alternate" content="es_ES">
  

  
    <meta property="og:locale:alternate" content="fr_FR">
  

  
    <meta property="og:locale:alternate" content="ko_KR">
  

  
    <meta property="og:locale:alternate" content="nl_NL">
  

  
    <meta property="og:locale:alternate" content="ru_RU">
  

  

  
    <meta property="og:locale:alternate" content="zh_TW">
  

<meta property="og:url" content="https://adblockplus.org/zh_CN/filters">


<meta name="twitter:site" content="@AdblockPlus">
<meta name="twitter:creator" content="@AdblockPlus">
    
  <link rel="stylesheet" href="/css/defaults.css?2404935856">
  <link rel="stylesheet" href="/css/fonts.css?2404935856">
  <link rel="stylesheet" href="/css/main.css?2404935856">
  <link rel="stylesheet" href="/css/cookies.css?2404935856">





    <script>
  window.eyeo = {
    
    
    
    preventCookiePrompt: false,
    userTesting: false,
    userTestingVariants: false,
    testAnalytics: false,
    testOptimize: false
  }

  window.console = window.console || {warn: function(){}};
</script>
    
    <!--[if IE 9]>
  <script src="/js/vendor/es5-shim.js?2580238049"></script>
  <script src="/js/vendor/dom4.js?2580238049"></script>
<![endif]-->

    
      
    
  </head>

  <body>
    



<nav id="navbar">
  <div class="container">
    <a href="/zh_CN/" hreflang="zh-CN" id="navbar-logo">
      <img
        src="/img/navbar-logo.svg?1658309802"
        alt="">
      <span>Adblock <strong>Plus</strong></span>
    </a>
    <a href="#" id="navbar-menu-toggle">
      <img
        src="/img/menu-toggle.svg?1658309802"
        alt="">
    </a>
    <ul id="navbar-menu">
      
        <li class="uppercase ">
          <a href="/zh_CN/download" hreflang="zh-CN">下载</a>
        </li>
      
        <li class="uppercase ">
          <a href="/zh_CN/about" hreflang="zh-CN">关于</a>
        </li>
      
      <li class="uppercase">
        <a href="https://help.eyeo.com" target="_blank">帮助</a>
      </li>
      <li class="uppercase ">
        <a href="/zh_CN/donate" hreflang="zh-CN">捐赠</a>
      </li>
      <li id="navbar-locale-menubar">
        <a id="navbar-locale-selected">
          中文(简体) (CN)
        </a>
        <ul id="navbar-locale-menu">
          
            <li>
              <a href="/de/filters" hreflang="de">
                Deutsch (DE)
              </a>
            </li>
          
            <li>
              <a href="/en/filters" hreflang="en">
                English (US)
              </a>
            </li>
          
            <li>
              <a href="/es/filters" hreflang="es">
                Español (España) (ES)
              </a>
            </li>
          
            <li>
              <a href="/fr/filters" hreflang="fr">
                Français (FR)
              </a>
            </li>
          
            <li>
              <a href="/ko/filters" hreflang="ko">
                한국어 (KR)
              </a>
            </li>
          
            <li>
              <a href="/nl/filters" hreflang="nl">
                Nederlands (NL)
              </a>
            </li>
          
            <li>
              <a href="/ru/filters" hreflang="ru">
                Русский (RU)
              </a>
            </li>
          
            <li>
              <a href="/zh_CN/filters" hreflang="zh-CN">
                中文(简体) (CN)
              </a>
            </li>
          
            <li>
              <a href="/zh_TW/filters" hreflang="zh-TW">
                中文(台灣) (TW)
              </a>
            </li>
          
        </ul>
      </li>
    </ul>
  </div>
</nav>



    <div id="content" class="container content False">
      
        <h1>撰写 Adblock Plus 过滤规则</h1>
      

      
        

        
        
          <div class="toc">
            
          <ul>
            
              <li>
                <a href="#introduction">AdBlock Plus 过滤规则介绍</a>
                
          <ul>
            
              <li>
                <a href="#basic">基本过滤规则</a>
                
              </li>
            
              <li>
                <a href="#whitelist">定义例外规则</a>
                
              </li>
            
              <li>
                <a href="#anchors">匹配网址开头/结尾</a>
                
              </li>
            
              <li>
                <a href="#separators">标记分隔符</a>
                
              </li>
            
              <li>
                <a href="#comments">注释</a>
                
          <ul>
            
              <li>
                <a href="#special-comments">特殊注释</a>
                
              </li>
            
          </ul>
        
              </li>
            
              <li>
                <a href="#advanced">进阶功能</a>
                
          <ul>
            
              <li>
                <a href="#options">指定过滤规则选项</a>
                
              </li>
            
              <li>
                <a href="#regexps">使用正则表达式</a>
                
              </li>
            
          </ul>
        
              </li>
            
          </ul>
        
              </li>
            
              <li>
                <a href="#elemhide">元素隐藏</a>
                
          <ul>
            
              <li>
                <a href="#elemhide_basic">基本规则</a>
                
              </li>
            
              <li>
                <a href="#elemhide_domains">限定在特定域名的规则</a>
                
              </li>
            
              <li>
                <a href="#elemhide_attributes">属性选择符</a>
                
              </li>
            
              <li>
                <a href="#elemhide_css">高级选择符</a>
                
              </li>
            
              <li>
                <a href="#elemhide-emulation">Extended CSS selectors (Adblock Plus specific)</a>
                
              </li>
            
              <li>
                <a href="#elemhide_exceptions">例外规则</a>
                
              </li>
            
              <li>
                <a href="#generic-specific">Generic / Specific filters</a>
                
              </li>
            
          </ul>
        
              </li>
            
              <li>
                <a href="#sitekey_server">在服务器上实施 sitekey</a>
                
              </li>
            
          </ul>
        
          </div>
        
      

      
        


<p>当前的 Adblock Plus 版本允许您通过许多不同的方法来优化过滤规则。本文档就是告诉您如何做。</p>

  <p><em>声明</em>：这里给出的过滤规则只是示例，不一定能直接使用。</p>

  <h2 id="introduction">AdBlock Plus 过滤规则介绍</h2>

  <p>本章节描述的过滤规则属性，对偶尔才写过滤规则的用户来说足矣。</p>

  <h3 id="basic">基本过滤规则</h3>

  <p>最简单的过滤规则当然就是您想阻挡的横幅广告地址，但是这些地址常常会在您每次打开页面时改变。例如： <code>http://example.com/ads/banner123.gif</code>，其中 123 是一个随机数字。在这里阻挡整个图片地址是没用的，您需要创建一条更通用的过滤规则 —— 如 <code>http://example.com/ads/banner*.gif</code>。或者更为通用一些的，如 <code>http://example.com/ads/*</code>。</p>

  <p><em>注</em>：不要使用通配符来代替过多的字符。过滤规则 <code>http://example.com/*</code> 固然可以阻挡所有的横幅广告， 但也会阻挡 example.com 下其它一些您想看的内容。</p>

  <h3 id="whitelist">定义例外规则</h3>

  <p>有时您可能会发现某个过滤规则平时挡广告挡得很好，但在某些情况下，会阻挡一些不该挡的内容。您不想移除这条过滤规则，但也不希望它阻挡不该挡的内容。</p>

  <p>这就是例外规则的好处——它们允许您定义过滤规则不被使用的情况。例如，您不满意过滤规则 <code>adv</code> 阻挡了 <code>http://example.com/advice.html</code>，您就可以定义一条例外规则 <code>@@advice</code> 。 例外规则和过滤规则没什么两样，您可以使用通配符或正则表达式。您只需在规则前添加 <code>@@</code> 来声明这是一个例外规则。</p>

  <p>Exception rules can do more. If you specify <code>$document</code> option you will get an exception for the entire page. For example, if your exception rule is <code>@@||example.com^$document</code> and you open some page from example.com — Adblock Plus will be entirely disabled on this page and nothing will be blocked.</p>

  <h3 id="anchors">匹配网址开头/结尾</h3>

  <p>通常 Adblock Plus 处理过滤规则时，会自己假设在过滤规则的开头与结尾都有一个通配符，例如，过滤规则 <code>ad</code> 和 <code>*ad*</code> 是一样。 正常情况下这没什么问题，但有时您可能想要定义可以匹配以网址开头或结尾的过滤规则。例如，您想要阻挡所有的 Flash，但如果您添加过滤规则 <code>swf</code> 地址 <code>http://example.com/swf/index.html</code> 同样也将被阻挡。</p>

  <p>这个问题的解决方法：使用管线符号（|）来表示地址的最前端或最末端。例如这条过滤规则 <code>swf|</code> 会阻挡 <code>http://example.com/annoyingflash.swf</code> 但不会阻挡 <code>http://example.com/swf/index.html</code>。这条过滤规则 <code>|http://baddomain.example/</code> 会阻挡 <code>http://baddomain.example/banner.gif </code> 但不会阻挡 <code>http://gooddomain.example/analyze?http://baddomain.example</code>。</p>

  <p id="flexible-anchors">有时您想阻挡 <code>http://example.com/banner.gif</code> 以及 <code>https://example.com/banner.gif</code> 和 <code>http://www.example.com/banner.gif</code>。这时只需在过滤规则的域名前面加上两个管线符号（||）：<code>||example.com/banner.gif</code> 将会阻挡上面的地址而不会阻挡 <code>http://badexample.com/banner.gif</code> 或者 <code>http://gooddomain.example/analyze?http://example.com/banner.gif</code>（需要 Adblock Plus 1.1 或更高版本）。</p>

  <h3 id="separators">标记分隔符</h3>

  <p>通常您需要接受过滤规则的任何分隔符。例如，您可能写这样一个规则阻挡 <code>http://example.com/</code> 和 <code>http://example.com:8000/</code> 但不能阻挡 <code>http://example.com.ar/</code>。在这里，符号(^)用作一个分隔符。 <code>http://example.com^</code>（需要 Adblock Plus 1.1 或更高版本）。</p>

  <p>分隔符可以是除了字母、数字或者 _ - . % 之外的任何字符。 这个地址的结尾也是作为一个分隔符，下面的例子中所有的分隔符以红色标记出： http:<b style="color: red;">//</b>example.com<b style="color: red;">:</b>8000<b style="color: red;">/</b>foo.bar<b style="color: red;">?</b>a<b style="color: red;">=</b>12<b style="color: red;">&amp;</b>b<b style="color: red;">=</b>%D1%82%D0%B5%D1%81%D1%82。所以这个地址可以通过这些过滤规则过滤 <code>^example.com^</code> 或 <code>^%D1%82%D0%B5%D1%81%D1%82^</code> 或 <code>^foo.bar^</code> 。</p>

  <h3 id="comments">注释</h3>

  <p>任何以感叹号 (!) 开始的规则，都被视为注释。在过滤规则的列表中，仍然会显示这些规则，但会用灰色的字来显示，而不是黑色。Adblock Plus 在判断规则时，会忽略这些注释，所以我们可以写下任何我们想写的东西。您可以在一条规则上面写下这条规则是做什么用的。也可以在过滤列表的上方写上作者信息（大多数过滤列表的作者已经这样做了）。</p>

<h4 id="special-comments">特殊注释</h4>

<p>
  特殊注释只在下载的过滤规则列表中生效，在自定义列表中无效。
  Special comments must be given at the top of the filter list right below the header.
  它们可以为该过滤规则列表设置许多参数：
</p>

<ul>
  <li>
    <p>
      <code>! Homepage: http://example.com/</code>
    </p>
    <p>
      此注释表明哪个网页是该过滤规则列表的首页。
    </p>
  </li>
  <li>
    <p>
      <code>! Title: FooList</code>
    </p>
    <p>
      此注释为该过滤规则列表设置一个固定的标题。 如果此注释存在，用户不能再更改该标题。
    </p>
  </li>
  <li>
    <p>
      <code>! Expires: 5 days</code>
    </p>
    <p>
      此注释设置该过滤规则列表的更新间隔，指定的值为天数（例如<code>5 days</code>）或者小时数（例如<code>8 hours</code>）。 可以提供1小时至14天之间的值。 注意：更新并不一定会在指定的间隔到达时发生。 实际的更新时间会稍微随机化并取决于一些额外因素，以减少服务器负载。
    </p>
  </li>
  <li>
    <p>
      <code>! Redirect: http://example.com/list.txt</code>
    </p>
    <p>
      此注释表明该过滤规则列表已被转移到一个新的下载地址。 Adblock Plus 将忽略此注释后的任何文件内容并立即尝试从新的地址下载。 如果成功，过滤规则列表的地址将按此设置被更新。 如果新的地址与当前地址相同，此注释将被忽略，并意味着它可以作为该过滤规则列表的“权威”地址使用。
    </p>
  </li>
  <li>
    <p>
      <code>! Version: 1234</code>
    </p>
    <p>
      此注释定义过滤规则列表的数字版本。 此版本号将显示在问题报告中，并且可以用于验证报告指向的是否是过滤规则列表的当前版本。
    </p>
  </li>
</ul>

  <h3 id="advanced">进阶功能</h3>

  <p>本章节描述的特性通常只有高级用户和维护过滤列表的作者才会看。普通用户可跳过。</p>

  <h4 id="options">指定过滤规则选项</h4>

  <p>Adblock Plus 允许您指定某些选项来改变某条规则的行为。您列举这些选项的时候将它们放在美元符号 ($) 后面并用逗号 (,) 分割这些选项，放在过滤规则的最后面，例如：</p>

  <pre>
*/ads/*$script,match-case
</pre>

  <p>这里的 <code>*/ads/*</code> 是真实的过滤规则 <code>script</code> 和 <code>match-case</code> 是其指定的选项。下面是目前支持的选项：</p>

  <ul>
    <li>类型选项：判定过滤规则（或例外规则）过滤元素的类型。过滤规则可以指定多个类型选项来过滤指定的元素类型。可以指定的类型包括：
      <ul>
        <li><code>script</code> —— 外部脚本，由 HTML script 标签加载</li>
        <li><code>image</code> —— 正常图片，通常由 HTML 的 img 标签所载入</li>
        <li><code>stylesheet</code> —— 外部 CSS 样式文件</li>
        <li><code>object</code> —— 由浏览器插件处理的内容，例如 Flash 或 Java</li>
        <li><code>xmlhttprequest</code> — requests started using the <a href="https://xhr.spec.whatwg.org/"><code>XMLHttpRequest</code> object</a> or <a href="https://fetch.spec.whatwg.org/"><code>fetch()</code> API</a></li>
        <li><code>subdocument</code> —— 内嵌的页面，通常通过 HTML 的框架方式内嵌</li>
        <li><code>ping</code> — requests started by <a href="https://developer.mozilla.org/docs/Web/HTML/Element/a#attr-ping"><code>&lt;a ping&gt;</code></a> or <a href="https://developer.mozilla.org/docs/Web/API/Navigator/sendBeacon"><code>navigator.sendBeacon()</code></a> (Adblock Plus 2.7.1 or higher required)</li>
        <li><code>websocket</code> — requests initiated via <a href="https://developer.mozilla.org/docs/Web/API/WebSocket"><code>WebSocket</code> object</a> (Adblock Plus 2.8 or higher required)</li>
        <li><code>webrtc</code> — connections opened via <a href="https://developer.mozilla.org/docs/Web/API/RTCPeerConnection"><code>RTCPeerConnection</code> instances</a> to ICE servers (Adblock Plus 1.13.3 for Chrome and Opera, 3.0 for Firefox, or higher required)</li>
        <li><code>document</code> —— 网页本身（只适用于 <a href="#whitelist"> 例外规则</a> ）</li>
        <li><code>elemhide</code> —— 只适用于例外规则，类似于<code>document</code> 但是只禁用页面上的<a href="#elemhide">隐藏规则</a>而不是所有规则（需要Adblock Plus 1.2 或更高版本）</li>
        <li><code>generichide</code> — for exception rules only, similar to <code>elemhide</code> but only disables <a href="#generic-specific">generic</a> element hiding rules on the page (Adblock Plus 2.6.12 or higher required)</li>
        <li><code>genericblock</code> — for exception rules only, just like <code>generichide</code> but disables <a href="#generic-specific">generic</a> blocking rules (Adblock Plus 2.6.12 or higher required)</li>
        <li><code>popup</code> — pages opened in a new tab or window</li>
        <li><code>other</code> —— 其他不在上面的类型的请求</li>
      </ul>
      The type options <code>background</code>,
      <code>xbl</code> and <code>dtd</code> are outdated
      and should no longer be used.
    </li>
    <li>反转类型选项：指定过滤规则<strong>不</strong>应用的元素类型。可以指定的类型选项： <code>~script</code>, <code>~image</code>, <code>~stylesheet</code>, <code>~object</code>, <code>~xmlhttprequest</code>, <code>~subdocument</code>, <code>~document</code>, <code>~elemhide</code>, <code>~other</code>, <code>{10}</code></li>
    <li>third-party/first-party 请求限制：如果指定了 <code>third-party</code> 选项， 则过滤规则只适用于来源与当前正在浏览的页面的不同的请求。类似地，<code>~third-party</code> 适用于来源与当前浏览页面相同的请求。</li>
    <li>域名限定：选项 <code>domain=example.com</code> 指过滤规则只适用于 &quot;example.com&quot; 下的页面 。多个域名可以用 &quot;|&quot; 分隔： 过滤规则 <code>domain=example.com|example.net</code> 将只适用于 &quot;example.com&quot; 或 &quot;example.net&quot; 的页面。如果一个域名是前面有&quot;~&quot;，则该过滤规则<strong>不</strong>适用于这个域名的页面。例如： <code>domain=~example.com</code> 指过滤规则适用于除了 example.com 之外的任何域名的页面而 <code>domain=example.com|~foo.example.com</code> 限定了过滤规则适用于 &quot;example.com&quot; 但不包括 &quot;foo.example.com&quot; 。</li>
    <li>
      Sitekey 限制：选项 <code>sitekey=abcdsitekeydcba</code> 意味着该过滤规则应该只在页面上提供了一个与过滤规则内含有的非常相似的（但没有 = 后缀的）公钥和一个可被验证的签名时应用。可以使用“|”作为分隔指定多个 sitekey：使用 <code>sitekey=abcdsitekeydcba|bcdesitekeyedcb</code> 作为过滤规则的选项时，将只会在页面提供了“abcdsitekeydcba”或者“bcdesitekeyedcb”的 sitekey 时应用。这类似于域名限制，但这允许单条过滤规则应用到相当多的域。注意，sitekey 限制需要<a href="#sitekey_server">服务器侧的修改</a>。
    </li>
    <li>
      Content Security Policies: The option <code>csp=script-src: &#39;none&#39;</code> causes a Content Security Policy header of <code>script-src: &#39;none&#39;</code> to be injected into HTTP responses for requested documents matching the filter — assuming that exception rules with the same option don&#39;t also match and that the document isn’t whitelisted. The Content Security Policy <code>script-src: &#39;none&#39;</code> would in turn block all scripts — including inline — for the document. This filter option should generally be avoided, except as a last resort to counter advanced circumvention. (Adblock Plus 3.1 or higher required.)
    </li>
    <li><code>match-case</code> —— 使过滤规则只适用于匹配地址，例如：过滤规则 <code>*/BannerAd.gif$match-case</code> 会阻挡 <code>http://example.com/BannerAd.gif</code> 但不会阻挡 <code>http://example.com/bannerad.gif</code>。</li>
  </ul>

  <h4 id="regexps">使用正则表达式</h4>

  <p>如果您想更好地控制您的过滤规则，什么匹配，什么不匹配，您可以使用正则表达式。例如过滤规则 <code>/banner\d+/</code> 会匹配 <code>banner123</code> 和 <code>banner321</code> 而不会匹配 <code>banners</code>。 您可以查看<a href="https://developer.mozilla.org/en/Core_JavaScript_1.5_Guide/Regular_Expressions#Creating_a_Regular_Expression">正则表达式的文档</a>来学习如何写正则表达式。</p>

  <p><em>注</em>： 由于性能原因，建议尽可能避免使用正则表达式。</p>

  <h2 id="elemhide">元素隐藏</h2>

  <h3 id="elemhide_basic">基本规则</h3>

  <p>有时您可能会发现无法阻挡某些内嵌在网页中的文字广告。如果查看源码的话，可能发现类似这样的代码：</p>

  <pre>&lt;div class=&quot;textad&quot;&gt;
Cheapest tofu, only here and now!
&lt;/div&gt;
&lt;div id=&quot;sponsorad&quot;&gt;
Really cheap tofu, click here!
&lt;/div&gt;
&lt;textad&gt;
Only here you get the best tofu!
&lt;/textad&gt;
</pre>

  <p>因为您必须下载页面的内容，所以您也必须下载这些广告。对于这种情况，您可以做的就是把这些广告藏起来，这样您就不会看到他们了。这也就是元素隐藏的意义所在。</p>

  <p>上面代码中的第一则广告是在一个 class 属性为“textad”的 div 容器内。过滤规则 <code>##.textad</code> 。 这里的 ## 表明这是一条元素隐藏规则，剩下的就是定义需要隐藏元素的选择器，同样的，您可以通过他们的 id 属性来隐藏 <code>###sponsorad</code> 会隐藏第二个广告。您不需要指定元素的名称， 过滤规则 <code>##textad</code> 同样也可以。您也可以仅指定要阻挡的元素名称来隐藏，例如：<code>{4}</code> 可以隐藏第三则广告。</p>

  <p>在不查看页面源码的情况下，<a href="/zh_CN/elemhidehelper" hreflang="zh_CN">Element Hiding Helper 扩展</a> 可以帮助选择正确的元素并写出相应的规则。基础的HTML知识还是很有用的。</p>

  <p><em>注</em>：元素隐藏规则与普通过滤规则的工作方式有很大的差别。元素隐藏规则不支持通配符。</p>

  <h3 id="elemhide_domains">限定在特定域名的规则</h3>

  <p>通常您只想要隐藏特定网站的特定广告，而不希望规则会作用于其他网站。例如，过滤规则 <code>##.sponsor</code> 可能会把某些网站的有效代码也隐藏了。但如果你把它写成 <code>example.com##.sponsor</code> 就只会在 <code>http://example.com/</code> 和 <code>http://something.example.com/</code> 生效了，而不是 <code>http://example.org/</code>。 你也可以指定多个域名——只要用逗号（,）分隔即可：<code>domain1.example,domain2.example,domain3.example##.sponsor</code> 。</p>

  <p>如果在域名之前有 &quot;~&quot;，该过滤规则<strong>不</strong>适用于这个域名的页面（需要 AdBlock Plus 1.1或更高版本）。例如， <code>~example.com##.sponsor</code> 将适用于除了 &quot;example.com&quot; 之外的域名，<code>example.com,~foo.example.com##.sponsor</code> 适用于 &quot;example.com&quot; 但不适用于 &quot;foo.example.com&quot; 子域名。</p>

  <p><em>注</em>：由于元素隐藏实现方式的关系，您只可以将隐藏规则限定在完整的域名。您不能使用网址的其他部份，也不可用 <code>domain</code> 代替 <code>domain.example,domain.test</code> 。</p>

  <p><em>注</em>： 限定域名的元素隐藏规则也可用来隐藏浏览器的使用界面。例如，过滤规则 <code>browser##menuitem#javascriptConsole</code> 会隐藏 Firefox 工具菜单中的 JavaScript 控制台。</p>

  <h3 id="elemhide_attributes">属性选择符</h3>

  <p>一些广告隐藏起来并不容易——它们广告不仅没有 id 也没有 class 属性。您可以使用其他属性来隐藏，例如 <code>##table[width=&quot;80%&quot;]</code> 可以隐藏 width 属性值为 80% 的表格元素。 如果您不想指定属性的完整值，<code>##div[title*=&quot;adv&quot;]</code> 会隐藏所有 title 属性包含 adv 字符的 div 元素。您还可以检查属性的开始和结束字符，例如 <code>##div[title^=&quot;adv&quot;][title$=&quot;ert&quot;]</code> 会隐藏 titile 属性以 adv 开始并且以 ert 结束的 div 元素。正如您所见，你可以使用多个条件 —— <code>table[width=&quot;80%&quot;][bgcolor=&quot;white&quot;]</code> 会匹配到 width 属性为 80%、bgcolor 属性为 white 的表格元素。</p>

  <h3 id="elemhide_css">高级选择符</h3>

  <p>通常情况下，Firefox 支持的 CSS 选择器都可用于元素隐藏。例如：下面的过滤规则会隐藏 class 的属性为 adheader 的 div 元素相邻的元素： <code>##.adheader + *</code>。完整的 CSS 列表请查看 <a href="https://www.w3.org/TR/selectors-3/">W3C CSS 规范</a> （Firefox 目前并没有支持所有的选择器）。 Please keep in mind that browsers are slower to process these selectors than selectors based on <code>class</code> or <code>id</code> attribute only.</p>

  <p><em>注</em>：这个功能只是给高级用户使用的，您可以很舒服地通过 CSS 选择符去使用它。Adblock Plus 无法检查您添加的选择器的语法是否正确，如果您使用无效的 CSS 语法，可能会破坏其它已有的有效过滤规则。建议使用 JavaScript 控制台检查是否有 CSS 错误。</p>

<h3 id="elemhide-emulation">Extended CSS selectors (Adblock Plus specific)</h3>

<p>
  Sometimes the standard CSS selectors aren&#39;t powerful enough to hide an advertisement. For those cases we have added some new selectors, namely <code>:-abp-has()</code>, <code>:-abp-contains()</code> and <code>:-abp-properties()</code> (requires Adblock Plus 1.13.3 or higher for Chrome and Opera).
</p>
<p>
  When writing an element hiding filter that makes use of these extended selectors you must use the <code>#?#</code> syntax, e.g. <code>example.com#?#selector</code>. But it&#39;s important to note that doing so carries a performance impact, so do so sparingly and make sure those filters are specific to as few domains and elements as possible.
</p>
<h4>:-abp-properties()</h4>
<p>
  <code>:-abp-properties(properties)</code> will select elements based upon stylesheet properties. For example <code>:-abp-properties(width:300px;height:250px;)</code> will select elements that have a corresponding CSS rule in a stylesheet which sets the <code>width</code> and <code>height</code> to the values <code>300px</code> and <code>250px</code> respectively. Property names are matched case-insensitively. Furthermore, wildcards can be used so that <code>:-abp-properties(width:*px;height:250px;)</code> will match any width specified in pixels and a height of 250 pixels.
</p>
<p>
  You can also use <a href="https://developer.mozilla.org/docs/Web/JavaScript/Guide/Regular_Expressions">regular expressions</a> by surrounding the properties expression with &quot;/&quot;. For example, <code>:-abp-properties(/width:30[2-8]px;height:250px;/)</code> will match widths between 302 and 308 pixels and a height of 250 pixels.
</p>
<p>
  <em>Note</em>: The <a href="https://adblockplus.org/development-builds/new-css-property-filter-syntax">older syntax</a> for the CSS property filters is deprecated and will be automatically converted to the new format . The syntax to select the style properties remain the same. For example, <code>[-abp-properties=&#39;width:300px;height:250px;&#39;]</code> will be converted to <code>:-abp-properties(width:300px;height:250px;)</code>.
</p>
<p>
  <code>:-abp-properties()</code> will also select elements using the style properties found in their pseudo-elements, like <code>::before</code> and <code>::after</code>. For example, <code>:-abp-properties(content:&#39;Advertisment&#39;)</code> will match elements where the string <em>Advertisment</em> is found in either their <code>::before</code> or <code>::after</code> pseudo element.
</p>
<h4>:-abp-has()</h4>
<p>
  <code>:-abp-has(selector)</code> will select elements based on their content. For example <code>:-abp-has(&gt; div &gt; a.advertiser)</code> will select elements that contain as a direct descendant a <code>&lt;div&gt;</code> that contains an <code>&lt;a&gt;</code> with the class <code>advertiser</code>. The inner selector can be relative to the element scope, and can use any of the pseudo-selectors, including <code>:-abp-has()</code> and will determine whether the selection will occur.
</p>
<h4>:-abp-contains()</h4>
<p>
  <code>:-abp-contains(text)</code> will select elements based on their text content. For example, <code>div.sidebar &gt; span:-abp-contains(Advertisment)</code> will select the  <code>&lt;span&gt;</code> elements within a <code>&lt;div&gt;</code>, with a class of <code>sidebar</code> that contains the word &quot;Advertisment&quot;. In practice, you&#39;d want to combine this with a <code>:-abp-has()</code> to select the outer container — something like <code>div.sidebar &gt; div:-abp-has(span:-abp-contains(Advertisment))</code> to select the container that would contain an advertisement label.
</p>

<h3 id="elemhide_exceptions">例外规则</h3>

<p>
  例外规则的作用是在特定域名中禁用已有的规则。 这对于那些与其他订阅组配合使用，且无法更改该订阅组的作者来说较为有用。 例如，如要让 <code>##.textad</code> 规则禁用于 <code>example.com</code>，可以使用  <code>example.com#@#.textad</code>。 这条组合规则就等同于  <code>~example.com##.textad</code>。 建议您仅在无法调整全局隐藏规则时才使用例外规则，否则请首选限定在特定域名的规则。
  These exceptions will be applied to <a href="#elemhide-emulation">advanced pseudo-selector rules</a> as well.
</p>

  <h3 id="generic-specific">Generic / Specific filters</h3>

  <p>With the <code>$generichide</code> and <code>$genericblock</code> filter options the distinction between generic and specific filters becomes important.</p>
  <p>We classify a filter to be <strong>specific</strong> if it matches one or more domains or matches a sitekey. If a filter has no domains specified (or only domain exceptions) and no sitekey then it counts as <strong>generic</strong>. For example, <code>example.com##.textad</code> is a specific filter, whereas both <code>##.textad</code> and <code>~example.com##.textad</code> are generic.</p>
  <p>Note that with blocking rules the domain must be specified under the $domain option for them to be considered specific. For example, <code>||example.com^</code> is considered generic whereas <code>*/ads/*$domain=example.com</code> is site-specific.</p>

  <h2 id="sitekey_server">在服务器上实施 sitekey</h2>

<p>
  若想完成一个采用 <a href="#options">sitekey 限制的过滤规则</a>，一个网页需要返回 Base64 编码的公钥版本和 Adblock Plus 可以验证的签名。目前来说，这需要在 HTTP 相应头中包含（<code>X-Adblock-Key: abcdpublickeydcba_abcdsignaturedcba</code>）及 document 的根标签中（<code>&lt;html data-adblockkey=&quot;abcdpublickeydcba_abcdsignaturedcba&quot;&gt;</code>）。
</p>

<p>
  首先，您需要创建一个专用的 RSA 密钥（最好是 512 位以保证较低传输负担）和一个公钥的 DER 表示。
</p>

<p>
  创建签名使用的数据是一个请求变量的连续列表（即 URI、Host 和 User Agent），分隔符是 <code>NUL</code> 字符，即“\0”。举例来说：
</p>

<pre>
  /index.html?q=foo\0www.example.com\0Mozilla/5.0 (X11; Ubuntu; Linux x86_64; rv:30.0) Gecko/20100101 Firefox/30.0
</pre>

<p>
  最后，使用 SEC_OID_ISO_SHA_WITH_RSA_SIGNATURE 签名算法生成此字符串的签名（是使用 OpenSSL 时的默认值）。
</p>

      
    </div>

    

<footer id="footer" class="content">
  <div class="container">
    <div class="row">
      <nav class="column one-fourth">
        <h5 class="footer-heading">下载</h5>
        <ul>
          <li><a href="/en/adblock-plus-chrome" hreflang="en">Adblock Plus for Chrome</a></li>
          <li><a href="/en/adblock-plus-firefox" hreflang="en">Adblock Plus for Firefox</a></li>
          <li><a href="/en/ad-blocker-safari" hreflang="en">Adblock Plus for Safari</a></li>
          <li><a href="/en/adblock-plus-opera" hreflang="en">Adblock Plus for Opera</a></li>
          <li><a href="/en/adblock-plus-edge" hreflang="en">Adblock Plus for Edge</a></li>
          <li><a href="/en/android-install" hreflang="en">Adblock Browser for Android</a></li>
        </ul>
      </nav>
      <nav class="column one-fourth">
        <h5 class="footer-heading">资源</h5>
        <ul>
          
            <li><a href="/zh_CN/acceptable-ads" hreflang="zh-CN">可接受广告</a></li>
          
            <li><a href="/zh_CN/documentation" hreflang="zh-CN">文档</a></li>
          
            <li><a href="/zh_CN/deployments" hreflang="zh-CN">管理员适用</a></li>
          
            <li><a href="/zh_CN/bugs" hreflang="zh-CN">报告问题</a></li>
          
          
          <li><a href="https://help.eyeo.com/en/adblockplus/how-to-write-filters" target="_blank" hreflang="en">撰写 Adblock Plus 过滤规则</a></li>
        </ul>
      </nav>
      <nav class="column one-fourth">
        <h5 class="footer-heading">社区</h5>
        <ul>
          <li><a href="/zh_CN/contribute" hreflang="zh_CN">协助</a></li>
          <li><a href="https://adblockplus.org/releases/" hreflang="en">通告</a></li>
          <li><a href="https://adblockplus.org/blog/" hreflang="en">博客</a></li>
          <li><a href="https://adblockplus.org/forum/" hreflang="en">论坛</a></li>
        </ul>
      </nav>
      <nav class="column one-fourth">
        <h5 class="footer-heading">开发</h5>
        <ul>
          <li><a href="https://gitlab.com/eyeo/adblockplus">源代码</a></li>
          
  
    <li><a href="/zh_CN/tools" hreflang="zh-CN">工具</a></li>
  

          <li><a href="https://eyeo.com/jobs/" hreflang="en">工作</a></li>
          <li><a href="/en/partner-integrations" hreflang="en">Partner Integrations</a></li>
        </ul>
      </nav>

      <nav id="social-list" class="column">
        <h5 class="footer-social-heading">关注我们的</h5>
        <ul>
          <li>
            <a
              href="https://twitter.com/AdblockPlus"
              title="在 Twitter 上关注 Adblock Plus"
              target="_blank" rel="nofollow noopener">
              <img
                src="/img/footer-twitter-glyphicon.png?1658309802"
                alt="Twitter 图标">
            </a>
          </li>
          <li>
            <a
              href="https://www.youtube.com/user/AdblockPlusOfficial"
              title="在 YouTube 上订阅 Adblock Plus"
              target="_blank" rel="nofollow noopener">
              <img
                src="/img/footer-youtube-glyphicon.png?1658309802"
                alt="YouTube 图标">
            </a>
          </li>
          <li>
            <a
              href="https://www.facebook.com/adblockplus"
              title="在 Facebook 上关注 Adblock Plus"
              target="_blank" rel="nofollow noopener">
              <img
                src="/img/footer-facebook-glyphicon.png?1658309802"
                alt="Facebook 图标">
            </a>
          </li>
          <li>
            <a
              href="https://www.instagram.com/adblockplus/"
              title="在 Instagram 上关注 Adblock Plus"
              target="_blank" rel="nofollow noopener">
              <img
                src="/img/footer-instagram-glyphicon.png?1658309802"
                alt="Instagram 图标">
            </a>
          </li>
          <li>
            <a
              href="https://vk.com/adblockplusofficial"
              title="在 VK 上关注 Adblock Plus"
              target="_blank" rel="nofollow noopener">
              <img
                src="/img/footer-vk-glyphicon.png?1658309802"
                alt="VK 图标">
            </a>
          </li>
        </ul>
      </nav>
    </div> 

    <div id="footer-legal">
      <p id="copyright-notice">版权所有© 2020 保留所有权利。 Adblock Plus<sup>®</sup> 是 <a href="https://eyeo.com">eyeo GmbH</a> 的注册商标。</p>
      <ul id="legal-list">
        
          
            <li><a href="/en/terms" hreflang="en">使用条款</a></li>
          
            <li><a href="/en/privacy" hreflang="en">隐私策略</a></li>
          
            <li><a href="/en/imprint" hreflang="en">联系</a></li>
          
        
      </ul>
    </div> 
  </div> 
</footer> 
    <div id="cookiebar" class="cookie cookiebar">
  <div class="container">
    <div class="row">

      <div class="column two-thirds">
        <p class="cookiebar-text">
          <svg viewBox="0 0 37.796 41.279" width="38" height="42">
            <title>Cookie 通知</title>
            <g transform="translate(-14.904 0)">
              <g transform="translate(14.904 0)">
                <path d="M52.468,31.165a6.029,6.029,0,0,1-1.514-4.908.935.935,0,0,0-.626-1.019,6.029,6.029,0,0,1-3.244-8.8A.935.935,0,0,0,47,15.368a6.039,6.039,0,0,1-1.112-5.609A.935.935,0,0,0,45.4,8.647,6.029,6.029,0,0,1,42.129,2.01.935.935,0,0,0,41.484.935a20.682,20.682,0,1,0,11.049,31.38A.935.935,0,0,0,52.468,31.165Zm-3.739,2.814A18.759,18.759,0,1,1,40.148,2.524,7.9,7.9,0,0,0,43.887,10a7.889,7.889,0,0,0,1.281,6.029A7.917,7.917,0,0,0,46.682,25.1a7.823,7.823,0,0,0,2.346,1.617,7.889,7.889,0,0,0,1.57,5.123A18.6,18.6,0,0,1,48.729,33.979Z" transform="translate(-14.904 0)"/>
              </g>
              <g transform="translate(24.556 12.199)">
                <circle cx="1.598" cy="1.598" r="1.598"/>
              </g>
              <g transform="translate(34.81 18.817)">
                <circle cx="1.598" cy="1.598" r="1.598"/>
              </g>
              <g transform="translate(33.212 32.212)">
                <circle cx="1.598" cy="1.598" r="1.598"/>
              </g>
              <g transform="translate(36.652 9.03)">
                <circle cx="1.047" cy="1.047" r="1.047"/>
              </g>
              <g transform="translate(23.509 25.912)">
                <circle cx="1.047" cy="1.047" r="1.047"/>
              </g>
              <g transform="translate(42.765 27.23)">
                <circle cx="1.047" cy="1.047" r="1.047"/>
              </g>
            </g>
          </svg>
          <span>
            我们使用一些 cookie 来为您提供在我们网站上的最佳体验。使用我们的网站表示您知悉我们正在使用 cookie，并且您可以随时更改设置。<a href="/zh_CN/cookie-information" hreflang="zh_CN">了解更多</a>
          </span>
        </p>
      </div>

      <div class="column one-third text-end">
        <ul class="cookiebar-nav">
          <li>
            <button
              type="button"
              class="cookies-submit button"
              title="拒绝 cookie 通知">
              好的，我知道了
            </button>
          </li>
          <li class="dropup cookies-dropup">
            <button
              type="button"
              class="cookies-settings button"
              title="编辑 cookie 设置">
              设置 &nbsp;
              <svg viewBox="0 0 16.509 16.993" width="18" height="18">
                <title>设置图标</title>
                <path d="M175.051,8.283V.478a.478.478,0,1,0-.955,0v7.8a2.425,2.425,0,0,0,0,4.755v3.474a.478.478,0,1,0,.955,0V13.038a2.425,2.425,0,0,0,0-4.755Zm-.478,3.846a1.468,1.468,0,1,1,1.468-1.468A1.469,1.469,0,0,1,174.574,12.129Z" transform="translate(-166.302 0)"/>
                <path d="M9.751,4.278V.478a.478.478,0,0,0-.955,0v3.8a2.425,2.425,0,0,0,0,4.755v7.479a.478.478,0,0,0,.955,0V9.029a2.423,2.423,0,0,0,0-4.752ZM9.274,8.123a1.468,1.468,0,1,1,1.468-1.468A1.469,1.469,0,0,1,9.274,8.123Z" transform="translate(-6.85 0)"/>
                <path d="M339.351,4.278V.478a.478.478,0,0,0-.955,0v3.8a2.425,2.425,0,0,0,0,4.755v7.483a.478.478,0,0,0,.955,0V9.029a2.423,2.423,0,0,0,0-4.752Zm-.478,3.846a1.468,1.468,0,1,1,1.468-1.468A1.469,1.469,0,0,1,338.874,8.123Z" transform="translate(-324.789 0)"/>
              </svg>
            </button>
            <div class="cookies-dropup-menu text-start" tabindex="1">
               <div class="cookies-settings-form">

  <div class="cookies-setting row">
    <div class="column three-fourths">
      <p class="cookies-setting-title">必要的 cookie</p>
      <p>用于记住您的隐私偏好。不可关闭。</p>
    </div>
    <div class="column one-fourth text-end">
      <label class="switch">
        <input type="checkbox" checked disabled>
        <span></span>
      </label>
    </div>
  </div>

  <div class="cookies-setting row">
    <div class="column three-fourths">
      <p class="cookies-setting-title">跟踪 cookie</p>
      <p>我们使用这些来分析网站流量。</p>
    </div>
    <div class="column one-fourth text-end">
      <label class="switch">
        <input class="tracking-cookies" type="checkbox" checked>
        <span></span>
      </label>
    </div>
  </div>

  <div class="cookies-setting row">
    <div class="column three-fourths">
      <p class="cookies-setting-title">A/B 测试 Cookie</p>
      <p>我们根据分析数据使用这些 Google Optimize Cookie 进行 A/B 测试。</p>
    </div>
    <div class="column one-fourth text-end">
      <label class="switch">
        <input class="testing-cookies" type="checkbox" checked>
        <span></span>
      </label>
    </div>
  </div>

  <button
    type="button"
    class="link-button cookies-save"
    title="保存 cookie 偏好">
    保存偏好
  </button>

  <span class="arrow"></span>

</div><!-- .cookies-settings-form -->
              <span class="arrow"></span>
            </div>
          </li>
        </ul>
      </div><!-- .column -->
    </div><!-- .row -->
  </div><!-- .container -->

</div><!-- #cookies-large-bar -->
  <form class="cookie cookieprompt">

  <fieldset class="container">

    <legend class="cookie-heading">
      Cookie 偏好
    </legend>

    <button
      type="button"
      class="cookies-close"
      title="拒绝 cookie 通知">
      <svg viewBox="0 0 23.313 23.313" width="15" height="15">
        <title>关闭图标</title>
        <path fill="#fff" class="a" d="M21.763,23.044C19.816,21.1,15.74,17.021,11.656,12.936L1.548,23.044a.9.9,0,0,1-1.279,0,.893.893,0,0,1,0-1.278c1.947-1.948,6.023-6.025,10.108-10.11L.269,1.547a.893.893,0,0,1,0-1.278.9.9,0,0,1,1.279,0L11.655,10.377,21.763.269a.905.905,0,0,1,1.283,1.278L12.935,11.657l10.11,10.11a.908.908,0,0,1-.64,1.547A.909.909,0,0,1,21.763,23.044Z"/>
      </svg>
    </button>

    <p>
      我们使用一些 cookie 来为您提供在我们网站上的最佳体验。
      <a
        href="/zh_CN/cookie-information" hreflang="zh_CN"
        title="有关 cookie 的更多信息"
        target="_blank">阅读更多</a>
    </p>

    <p>
      <button
        type="button"
        class="cookies-submit"
        title="拒绝 cookie 通知">
        好的，我知道了
      </button>
    </p>

    <p>
      <button
        type="button"
        class="cookies-settings"
        title="编辑 cookie 设置">
        更改设置
      </button>
    </p>

  </fieldset>

</form>
  <form class="cookie cookiepage">

  <header class="bg-dark">
    <div class="container">

      <h4 class="cookie-heading">
        Cookie 偏好
      </h4>

      <button
        type="button"
        class="cookies-close"
        title="拒绝 cookie 通知">
        <svg viewBox="0 0 23.313 23.313" width="15" height="15">
          <title>关闭图标</title>
          <path fill="#fff" class="a" d="M21.763,23.044C19.816,21.1,15.74,17.021,11.656,12.936L1.548,23.044a.9.9,0,0,1-1.279,0,.893.893,0,0,1,0-1.278c1.947-1.948,6.023-6.025,10.108-10.11L.269,1.547a.893.893,0,0,1,0-1.278.9.9,0,0,1,1.279,0L11.655,10.377,21.763.269a.905.905,0,0,1,1.283,1.278L12.935,11.657l10.11,10.11a.908.908,0,0,1-.64,1.547A.909.909,0,0,1,21.763,23.044Z"/>
        </svg>
      </button>

    </div>
  </header>

  <div class="bg-light">
    <div class="container section">
        我们使用一些 cookie 来为您提供在我们网站上的最佳体验。使用我们的网站表示您知悉我们正在使用 cookie，并且您可以随时更改设置。<a href="/zh_CN/cookie-information" hreflang="zh_CN">了解更多</a>
    </div>
  </div>

  <div class="container section">
     <div class="cookies-settings-form">

  <div class="cookies-setting row">
    <div class="column three-fourths">
      <p class="cookies-setting-title">必要的 cookie</p>
      <p>用于记住您的隐私偏好。不可关闭。</p>
    </div>
    <div class="column one-fourth text-end">
      <label class="switch">
        <input type="checkbox" checked disabled>
        <span></span>
      </label>
    </div>
  </div>

  <div class="cookies-setting row">
    <div class="column three-fourths">
      <p class="cookies-setting-title">跟踪 cookie</p>
      <p>我们使用这些来分析网站流量。</p>
    </div>
    <div class="column one-fourth text-end">
      <label class="switch">
        <input class="tracking-cookies" type="checkbox" checked>
        <span></span>
      </label>
    </div>
  </div>

  <div class="cookies-setting row">
    <div class="column three-fourths">
      <p class="cookies-setting-title">A/B 测试 Cookie</p>
      <p>我们根据分析数据使用这些 Google Optimize Cookie 进行 A/B 测试。</p>
    </div>
    <div class="column one-fourth text-end">
      <label class="switch">
        <input class="testing-cookies" type="checkbox" checked>
        <span></span>
      </label>
    </div>
  </div>

  <button
    type="button"
    class="link-button cookies-save"
    title="保存 cookie 偏好">
    保存偏好
  </button>

  <span class="arrow"></span>

</div><!-- .cookies-settings-form -->
  </div>

</form>
    <script src="/js/testing/setup.js?2580238049"></script>
    
  <script src="/js/main.js?2580238049"></script>



  </body>
</html>